## **üîç –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `SERIAL` –∏ `IDENTITY` –≤ PostgreSQL**
–•–æ—Ç—è `SERIAL` –∏ `IDENTITY` –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∑–∞–¥–∞—á—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç `id`), –º–µ–∂–¥—É –Ω–∏–º–∏ –µ—Å—Ç—å –≤–∞–∂–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è.

---

### **üìå 1Ô∏è‚É£ SERIAL**
```sql
CREATE TABLE inventory (
    id SERIAL PRIMARY KEY,
    name VARCHAR(48) NOT NULL UNIQUE
);
```
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `SERIAL`:**  
- `SERIAL` ‚Äî —ç—Ç–æ **–Ω–µ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö**. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ **—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä** –¥–ª—è:
  1. –°–æ–∑–¥–∞–Ω–∏—è `INTEGER`-–ø–æ–ª—è.
  2. –°–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ `SEQUENCE` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `inventory_id_seq`).
  3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ `DEFAULT nextval('inventory_id_seq')` –∫ `id`.

**–ü—Ä–æ–±–ª–µ–º—ã `SERIAL`:**
- ‚ùå **–ù–µ –≤—Å—Ç—Ä–æ–µ–Ω –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç SQL** (—ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ PostgreSQL).
- ‚ùå **–ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏—Ç—å `id`**, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å `SEQUENCE`.
- ‚ùå **–ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü `id`, `SEQUENCE` –æ—Å—Ç–∞–Ω–µ—Ç—Å—è** –∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.
- ‚ùå **–°–±–æ–∏ –≤ `SEQUENCE`**: –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤—Å—Ç–∞–≤–∫–∏ `SEQUENCE` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –∑–∞–ø–∏—Å—å –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è ‚Üí –ø–æ—è–≤–ª—è—é—Ç—Å—è "–¥—ã—Ä—ã" –≤ ID.

---

### **üìå 2Ô∏è‚É£ IDENTITY (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)**
```sql
CREATE TABLE inventory (
    id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    name VARCHAR(48) NOT NULL UNIQUE
);
```
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `IDENTITY`:**  
- `IDENTITY` ‚Äî —ç—Ç–æ **–Ω–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç SQL**, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ —Å–∞–º—É —Ç–∞–±–ª–∏—Ü—É.
- PostgreSQL —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ **–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `SEQUENCE`** –Ω–∞–ø—Ä—è–º—É—é.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `IDENTITY`:**
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç SQL** ‚Üí –ª—É—á—à–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –±–∞–∑–∞–º–∏.
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç `id`** ‚Üí –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å `SEQUENCE`.
- ‚úÖ **–£–¥–∞–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Ç–∞–±–ª–∏—Ü–µ–π** ‚Üí –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å "–≤–∏—Å—è—â–∏–º–∏" `SEQUENCE`.
- ‚úÖ **–ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–µ–Ω –ø—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö** ‚Üí –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ `id`.

**–í–∞—Ä–∏–∞–Ω—Ç—ã `IDENTITY`:**
1. **`GENERATED ALWAYS AS IDENTITY`**  
   üîπ –ó–∞–ø—Ä–µ—â–∞–µ—Ç —Ä—É—á–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ `id`.  
   üîπ `INSERT INTO inventory (name) VALUES ('Latte');` (–û–ö)  
   üîπ `INSERT INTO inventory (id, name) VALUES (1, 'Latte');` (–û—à–∏–±–∫–∞)

2. **`GENERATED BY DEFAULT AS IDENTITY`**  
   üîπ –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—Ä—É—á–Ω—É—é –∑–∞–¥–∞—Ç—å `id`, –Ω–æ –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, —Ç–æ PostgreSQL —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∞–º.  
   üîπ `INSERT INTO inventory (id, name) VALUES (5, 'Espresso');` (–û–ö)  

---

### **üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è**
| –§—É–Ω–∫—Ü–∏—è               | `SERIAL` | `IDENTITY` |
|----------------------|---------|------------|
| –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–π ID  | ‚úÖ –î–∞ | ‚úÖ –î–∞ |
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `SEQUENCE` | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–∞–º–æ–π —Ç–∞–±–ª–∏—Ü–µ–π) |
| –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É SQL | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| –ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–¥–∞—Ç—å `id`? | ‚úÖ –î–∞ | üîπ –î–∞ (`BY DEFAULT`) / ‚ùå –ù–µ—Ç (`ALWAYS`) |
| –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É –±–µ–∑ –ø—Ä–æ–±–ª–µ–º? | ‚ùå –ù–µ—Ç (–Ω–∞–¥–æ —É–¥–∞–ª—è—Ç—å `SEQUENCE` –æ—Ç–¥–µ–ª—å–Ω–æ) | ‚úÖ –î–∞ |
| –ú–æ–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å `id`? | üîπ –î–∞ (`setval(...)`) | üîπ –î–∞ (`ALTER TABLE ... RESTART IDENTITY`) |

---

### **üì¢ –í—ã–≤–æ–¥**
‚úÖ **–ï—Å–ª–∏ —Å–æ–∑–¥–∞–µ—Ç–µ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `IDENTITY`**, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç SQL –∏ –æ–Ω —É–¥–æ–±–Ω–µ–µ.  
‚úÖ –ï—Å–ª–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `SERIAL`, **–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å**, –Ω–æ `IDENTITY` ‚Äî –ª—É—á—à–µ.  
‚úÖ –ï—Å–ª–∏ –≤–∞–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å (`id` –Ω–µ–ª—å–∑—è –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å/–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å) ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ALWAYS AS IDENTITY`.  
‚úÖ –ï—Å–ª–∏ –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å `id` –≤—Ä—É—á–Ω—É—é ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `BY DEFAULT AS IDENTITY`.